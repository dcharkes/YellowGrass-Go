<!doctype html>
<html>

<head>

  <title>YG</title>

  <meta name="viewport" 
  content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <script src="components/webcomponentsjs/webcomponents.js"></script>
  <script src="director/build/director.js"></script>

  <link rel="import" href="components/font-roboto/roboto.html">
  <link rel="import" href="components/core-toolbar/core-toolbar.html">
  <link rel="import" href="components/core-drawer-panel/core-drawer-panel.html">
  <link rel="import" href="components/core-header-panel/core-header-panel.html">
  <link rel="import" href="components/paper-tabs/paper-tabs.html">
  <link rel="import" href="components/paper-item/paper-item.html">

  <style>
  html,body {
    height: 100%;
    margin: 0;
    background-color: #E5E5E5;
    font-family: 'RobotoDraft', sans-serif;
  }
  </style>

</head>

<body unresolved>
  <template id="app" is="auto-binding">
	<main-page></main-page>
  </template>
</body>


<polymer-element name="main-page" attributes="show">
  <template>
    <style>
	  core-header-panel {
	    height: 100%;
	    overflow: auto;
	    -webkit-overflow-scrolling: touch; 
	  }
	  core-toolbar {
	    background: #CFD67E;
	    color: white;
	  }
	  core-header-panel[drawer] {
	  	background-color:white;
	  }
	  paper-item a{
	  	color: black;
	  }
	  paper-item#core-selected{
	  	background-color: #E5E5E5;
	  }
    </style>
    <core-drawer-panel>
      <core-header-panel drawer mode="seamed">
        <core-toolbar>Menu</core-toolbar>
        <core-menu selected="0" on-core-select="{{closeDrawer}}">
          <paper-item>
            <a href="/polymer-test2/" on-click="{{navigate}}">
              YellowGrass
            </a>
          </paper-item>
          <paper-item>
            <a href="about" on-click="{{navigate}}">
              About
            </a>
          </paper-item>
          <paper-item>
            <a href="projects" on-click="{{navigate}}">
              Projects
            </a>
          </paper-item>
        </core-menu>
      </core-header-panel>
      <core-header-panel main>
        <core-toolbar>
          <paper-icon-button icon="menu" core-drawer-toggle>
          </paper-icon-button>
          <div>Title</div>
        </core-toolbar>
        <div> Main content... </div>
      </core-header-panel>
    </core-drawer-panel>
  </template>
  <script>
    (function () {
      Polymer({
        navigate: function(e, detail, sender) {
          e.preventDefault();
          this.fire('change-route', sender.href);
        },
        goBack: function(e) {
          e.preventDefault();
          this.fire('change-route-back');
        }
      });
    })();
  </script>
</polymer-element>

<script>
(function(window, document, undefined) {
  'use strict';

  // Select auto-binding template and use as the top level of our app
  var app = document.querySelector('#app');
  app.addEventListener('template-bound', function() {
    var pages = document.querySelector('#pages');
    var infoPage = document.querySelector('info-page');

    // Setup categories
    app.category = 'all';

    // Setup routing
    var DEFAULT_ROUTE = '/polymer-test2/';

    var home = function(category) {
     // app.category = category;

     // pages.selected = 0;
    };

    var about = function(category, contactId) {
      //infoPage.contactId = contactId;
     // pages.selected = 1;
    };

    var projects = function() {
    // pages.selected = 2;
    };

    var routes = {
      '/polymer-test2/': home,
      '/polymer-test2/about': about,
      '/polymer-test2/projects': projects
    };

    var router = app.router = Router(routes);
    router.configure({html5history: true});
    router.init(DEFAULT_ROUTE);
    // Listen for pages to fire their change-route event
    // Instead of letting them change the route directly,
    // handle the event here and change the route for them
    document.addEventListener('change-route', function(e) {
      console.log("asdf");
      if (e.detail) {
        router.setRoute(e.detail);
      }
    });
    // Similar to change-route, listen for when a page wants to go
    // back to the previous state and change the route for them
    document.addEventListener('change-route-back', function() {
      history.back();
    });

    // Handle page transitions
//    pages.addEventListener('core-animated-pages-transition-prepare', function() {
 //     pages.selectedItem.querySelector('.page').willPrepare();
  //  });

    // Set duration for core-animated-pages transitions
 //   CoreStyle.g.transitions.duration = '0.2s';

  });

})(window, document);
</script>

</html>