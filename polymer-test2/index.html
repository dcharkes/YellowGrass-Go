<!doctype html>
<html>

<head>

  <title>YG</title>

  <meta name="viewport" 
  content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <script src="components/webcomponentsjs/webcomponents.js"></script>
  <script src="director/build/director.js"></script>

  <link rel="import" href="components/font-roboto/roboto.html">
  <link rel="import" href="components/core-menu/core-menu.html">
  <link rel="import" href="components/core-pages/core-pages.html">
  <link rel="import" href="components/core-toolbar/core-toolbar.html">
  <link rel="import" href="components/core-drawer-panel/core-drawer-panel.html">
  <link rel="import" href="components/core-header-panel/core-header-panel.html">
  <link rel="import" href="components/paper-tabs/paper-tabs.html">
  <link rel="import" href="components/paper-item/paper-item.html">

  <style>
  html,body {
    height: 100%;
    margin: 0;
    background-color: #E5E5E5;
    font-family: 'RobotoDraft', sans-serif;
  }
  </style>

</head>

<body unresolved>
  <template id="app" is="auto-binding">
	<main-page></main-page>
  </template>
</body>


<polymer-element name="main-page" attributes="show">
  <template>
    <style>
	  core-header-panel {
	    height: 100%;
	    overflow: auto;
	    -webkit-overflow-scrolling: touch; 
	  }
	  core-toolbar {
	    background: #CFD67E;
	    color: white;
	  }
	  core-header-panel[drawer] {
	  	background-color:white;
	  }
	  paper-item a{
	  	color: black;
	  	text-decoration: none;
	  }
	  paper-item#core-selected{
	  	background-color: #E5E5E5;
	  }
      core-menu.fixlinkpadding paper-item::shadow .button-content{
        padding:0;
      }
      core-menu.fixlinkpadding paper-item>a{
        padding: 0.8em 0.3em;
      }
    </style>
    <core-drawer-panel>
      <core-header-panel drawer mode="seamed">
        <core-toolbar>YellowGrass</core-toolbar>
        <core-menu selected="0" on-core-select="{{closeDrawer}}" class="fixlinkpadding">
          <paper-item>
            <a href="/polymer-test2/" on-click="{{navigate}}">
              Home
            </a>
          </paper-item>
          <paper-item>
            <a href="/polymer-test2/about" on-click="{{navigate}}">
              About
            </a>
          </paper-item>
          <paper-item>
            <a href="/polymer-test2/projects" on-click="{{navigate}}">
              Projects
            </a>
          </paper-item>
        </core-menu>
      </core-header-panel>
      <core-header-panel main>
        <core-toolbar>
          <paper-icon-button icon="menu" core-drawer-toggle>
          </paper-icon-button>
          <div>Title</div>
        </core-toolbar>
		<core-pages id="pages" selected="2">
		  <section layout vertical>
            <home-page id="home"></home-page>
          </section>
          <section layout vertical>
		    <div>One</div>
		  </section>
		  <section layout vertical>
		    <div>Two</div>
		  </section>
		</core-pages>
      </core-header-panel>
    </core-drawer-panel>
  </template>
  <script>
    (function () {
      Polymer({
        navigate: function(e, detail, sender) {
          e.preventDefault();
          this.fire('change-route', sender.href);
        },
        goBack: function(e) {
          e.preventDefault();
          this.fire('change-route-back');
        },
        changePage : function(n){
          var pages = this.$.pages;
          pages.selected = n;
        },
      });
    })();
  </script>
</polymer-element>

<polymer-element name="home-page" attributes="contacts heading">
  <template>
		====
  </template>
  <script>
  (function() {
    Polymer({

    });
  })();
  </script>
</polymer-element>


<script>
(function(window, document, undefined) {
  'use strict';

  // Select auto-binding template and use as the top level of our app
  var app = document.querySelector('#app');
  app.addEventListener('template-bound', function() {
    var mainPage = document.querySelector('main-page');
  
    var home = function() {
      mainPage.changePage(0);
    };

    var about = function() {
      mainPage.changePage(1);
    };

    var projects = function() {
      mainPage.changePage(2);
    };

    var routes = {
      '/polymer-test2/about': about,
      '/polymer-test2/projects': projects,
      '/polymer-test2/': home,
    };

    var router = app.router = Router(routes);
    router.configure({html5history: true, strict:false});
    router.init();

    document.addEventListener('change-route', function(e) {
      if (e.detail) {
        router.setRoute(e.detail);
      }
    });

    document.addEventListener('change-route-back', function() {
      history.back();
    });


  });

})(window, document);
</script>

</html>